{"version":3,"sources":["../package.json","scripts/index.js"],"names":["module","exports","name","version","description","keywords","homepage","bugs","url","email","license","author","repository","type","scripts","test","start","build","devDependencies","acorn","autoprefixer","eslint","stylelint","private","inputs","screenTextElement","document","querySelector","acBtnElement","ceBtnElement","numberBtnElements","slice","call","querySelectorAll","operationBtnElements","decimalPointBtnElement","equalsBtnElement","versionElement","resetInputs","displayInputs","innerText","join","clearAll","hasMoreThanOneInput","length","removeLastInput","pop","clearEntry","getLastInput","isAnOperation","value","setLastInput","appendToLastInput","appendNumber","e","number","target","last","push","appendMinus","appendOperation","operation","containsDecimalPoint","includes","appendDecimalPoint","normaliseInputs","replace","evaluate","expression","eval","error","isInvalidResult","result","Number","isFinite","handleCalculationError","normaliseResult","String","calculateResult","addEventListener","forEach","btn"],"mappings":"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","file":"scripts.06a9a26b.js","sourceRoot":"../src","sourcesContent":["module.exports={name:\"javascript-calculator\",version:\"1.1.0\",description:\"Advanced Front End Development Project for FreeCodeCamp\",keywords:[\"javascript calculator\",\"freecodecamp\"],homepage:\"https://javascriptcalculator.mikelowe.xyz/\",bugs:{url:\"https://github.com/vanillaSlice/JavaScriptCalculator/issues\",email:\"mikelowedev@gmail.com\"},license:\"MIT\",author:{name:\"Mike Lowe\",email:\"mikelowedev@gmail.com\",url:\"https://www.mikelowe.xyz/\"},repository:{type:\"git\",url:\"https://github.com/vanillaSlice/JavaScriptCalculator.git\"},scripts:{test:\"run-s test:*\",\"test:lint\":\"run-s test:lint:*\",\"test:lint:css\":\"stylelint src/**/*.css\",\"test:lint:js\":\"eslint src/**/*.js\",start:\"parcel src/index.html -d build\",build:\"parcel build src/index.html -d build --public-url ./\"},devDependencies:{acorn:\"^6.0.6\",autoprefixer:\"^9.4.7\",eslint:\"^5.13.0\",\"eslint-config-airbnb-base\":\"^13.1.0\",\"eslint-plugin-import\":\"^2.16.0\",\"npm-run-all\":\"^4.1.5\",\"parcel-bundler\":\"^1.12.3\",\"parcel-plugin-browserconfig\":\"^1.0.0\",stylelint:\"^9.10.1\",\"stylelint-config-recommended\":\"^2.1.0\"},private:!0};","import { version } from '../../package.json';\n\n/*\n * Variables\n */\n\nlet inputs = ['0'];\n\n/*\n * DOM Elements\n */\n\nconst screenTextElement = document.querySelector('.js-screen-text');\nconst acBtnElement = document.querySelector('.js-ac-btn');\nconst ceBtnElement = document.querySelector('.js-ce-btn');\nconst numberBtnElements = [].slice.call(document.querySelectorAll('.js-number-btn'));\nconst operationBtnElements = [].slice.call(document.querySelectorAll('.js-operation-btn'));\nconst decimalPointBtnElement = document.querySelector('.js-decimal-point-btn');\nconst equalsBtnElement = document.querySelector('.js-equals-btn');\nconst versionElement = document.querySelector('.js-version');\n\n/*\n * Functions\n */\n\nfunction resetInputs() {\n  inputs = ['0'];\n}\n\nfunction displayInputs() {\n  screenTextElement.innerText = inputs.join('');\n}\n\nfunction clearAll() {\n  resetInputs();\n  displayInputs();\n}\n\nfunction hasMoreThanOneInput() {\n  return inputs.length > 1;\n}\n\nfunction removeLastInput() {\n  inputs.pop();\n}\n\nfunction clearEntry() {\n  if (hasMoreThanOneInput()) {\n    removeLastInput();\n    displayInputs();\n  } else {\n    clearAll();\n  }\n}\n\nfunction getLastInput() {\n  return inputs[inputs.length - 1];\n}\n\nfunction isAnOperation(value) {\n  return value === '÷' || value === '×' || value === '+' || value === '−';\n}\n\nfunction setLastInput(value) {\n  inputs[inputs.length - 1] = value;\n}\n\nfunction appendToLastInput(value) {\n  inputs[inputs.length - 1] += value;\n}\n\nfunction appendNumber(e) {\n  const number = e.target.innerText;\n  const last = getLastInput();\n  if (isAnOperation(last)) {\n    inputs.push(number);\n  } else if (last === '0') {\n    setLastInput(number);\n  } else {\n    appendToLastInput(number);\n  }\n  displayInputs();\n}\n\nfunction appendMinus() {\n  const last = getLastInput();\n  if (last === '0' && !hasMoreThanOneInput()) {\n    inputs[0] = '−';\n  } else if (last !== '−') {\n    inputs.push('−');\n  }\n}\n\nfunction appendOperation(e) {\n  const operation = e.target.innerText;\n  if (operation === '−') {\n    appendMinus();\n  } else if (!isAnOperation(getLastInput())) {\n    inputs.push(operation);\n  }\n  displayInputs();\n}\n\nfunction containsDecimalPoint(value) {\n  return value.includes('.');\n}\n\nfunction appendDecimalPoint() {\n  const last = getLastInput();\n  if (!containsDecimalPoint(last)) {\n    appendToLastInput('.');\n    displayInputs();\n  }\n}\n\nfunction normaliseInputs() {\n  return inputs.join('').replace(/÷/g, '/').replace(/×/g, '*').replace(/−/g, '-');\n}\n\nfunction evaluate(expression) {\n  try {\n    return eval(expression);\n  } catch (error) {\n    return error;\n  }\n}\n\nfunction isInvalidResult(result) {\n  return !Number.isFinite(result);\n}\n\nfunction handleCalculationError() {\n  screenTextElement.innerText = 'Error';\n  resetInputs();\n}\n\nfunction normaliseResult(result) {\n  return String(result).replace(/-/g, '−');\n}\n\nfunction calculateResult() {\n  const expression = normaliseInputs();\n  const result = evaluate(expression);\n  if (isInvalidResult(result)) {\n    handleCalculationError();\n  } else {\n    inputs = [normaliseResult(result)];\n    displayInputs();\n  }\n}\n\n/*\n * Initialise\n */\n\nacBtnElement.addEventListener('click', clearAll);\nceBtnElement.addEventListener('click', clearEntry);\nnumberBtnElements.forEach(btn => btn.addEventListener('click', appendNumber));\noperationBtnElements.forEach(btn => btn.addEventListener('click', appendOperation));\ndecimalPointBtnElement.addEventListener('click', appendDecimalPoint);\nequalsBtnElement.addEventListener('click', calculateResult);\nversionElement.innerText = version;\n"]}